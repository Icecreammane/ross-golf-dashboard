# Mac Mini Infrastructure ‚Äî Cost-Optimal Setup

**Goal:** Mac mini runs all local processing 24/7. Your MacBook Air is a thin client. Cloud (Sonnet) only for complex reasoning.

---

## üèóÔ∏è Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     MAC MINI (Tier 1)                   ‚îÇ
‚îÇ                   24/7 Always-On Server                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ Email daemon (fetch, filter, summarize)              ‚îÇ
‚îÇ ‚Ä¢ Twitter daemon (mentions, DMs, opportunities)        ‚îÇ
‚îÇ ‚Ä¢ Calendar watcher (pull events, deadlines)            ‚îÇ
‚îÇ ‚Ä¢ Fitness aggregator (sync tracker data, analyze)      ‚îÇ
‚îÇ ‚Ä¢ Golf data collector (scores, handicap trends)        ‚îÇ
‚îÇ ‚Ä¢ Photo processor (meal photos ‚Üí macros)               ‚îÇ
‚îÇ ‚Ä¢ Social scheduler (generate + post content)           ‚îÇ
‚îÇ ‚Ä¢ Task queue manager (GOALS.md ‚Üí tasks)                ‚îÇ
‚îÇ ‚Ä¢ Morning brief generator (automated 3-questions)      ‚îÇ
‚îÇ ‚Ä¢ Evening check-in prompts (8pm ritual)                ‚îÇ
‚îÇ ‚Ä¢ Report builders (weekly, monthly summaries)          ‚îÇ
‚îÇ ‚Ä¢ Webhook receiver (Stripe, integrations)              ‚îÇ
‚îÇ ‚Ä¢ API server for dashboards (fitness, golf)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
    Local Data Lake
    `/data/` directory
    - daily-intel.json
    - fitness-data.json
    - social-posts-queue.json
    - email-summary.json
    - escalations.json
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      MacBook Air (Tier 1.5 - Connected Client)         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ Access dashboards (http://mini:3000, 3001, etc)      ‚îÇ
‚îÇ ‚Ä¢ Log meals, workouts (sends to mini)                  ‚îÇ
‚îÇ ‚Ä¢ Ask Jarvis questions (message tool ‚Üí Telegram)       ‚îÇ
‚îÇ ‚Ä¢ Browse reports generated by mini                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Cloud (Tier 3 - On-Demand Sonnet Only)            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ Complex reasoning (only when you ask)                ‚îÇ
‚îÇ ‚Ä¢ Decision-making (when ambiguous)                     ‚îÇ
‚îÇ ‚Ä¢ Strategic planning (architecture, goals)             ‚îÇ
‚îÇ ‚Ä¢ Writing refinement (blogs, emails)                   ‚îÇ
‚îÇ ~$5-10/day = $150-300/month                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ Directory Structure (Mac Mini `/data/`)

```
/Users/clawdbot/clawd/
‚îú‚îÄ‚îÄ daemons/                          # Always-running processes
‚îÇ   ‚îú‚îÄ‚îÄ email-daemon.py               # Fetch + filter emails
‚îÇ   ‚îú‚îÄ‚îÄ twitter-daemon.py             # Monitor mentions/DMs
‚îÇ   ‚îú‚îÄ‚îÄ calendar-daemon.py            # Pull events
‚îÇ   ‚îú‚îÄ‚îÄ fitness-aggregator.py         # Sync + analyze tracker
‚îÇ   ‚îú‚îÄ‚îÄ golf-collector.py             # Collect golf data
‚îÇ   ‚îú‚îÄ‚îÄ task-queue-generator.py       # Auto-generate tasks
‚îÇ   ‚îî‚îÄ‚îÄ social-scheduler.py           # Queue posts
‚îÇ
‚îú‚îÄ‚îÄ processors/                       # Local LLM processing
‚îÇ   ‚îú‚îÄ‚îÄ meal-photo-analyzer.py        # Vision ‚Üí macros
‚îÇ   ‚îú‚îÄ‚îÄ golf-swing-analyzer.py        # Vision ‚Üí swing tips
‚îÇ   ‚îú‚îÄ‚îÄ social-post-generator.py      # Template + variations
‚îÇ   ‚îú‚îÄ‚îÄ email-summarizer.py           # Summarize threads
‚îÇ   ‚îî‚îÄ‚îÄ report-builder.py             # Weekly/monthly reports
‚îÇ
‚îú‚îÄ‚îÄ data/                             # Data lake (JSON files)
‚îÇ   ‚îú‚îÄ‚îÄ daily-intel-2026-02-08.json   # Today's aggregated data
‚îÇ   ‚îú‚îÄ‚îÄ fitness-data.json             # All fitness logs
‚îÇ   ‚îú‚îÄ‚îÄ golf-data.json                # All golf scores
‚îÇ   ‚îú‚îÄ‚îÄ email-summary.json            # Important emails
‚îÇ   ‚îú‚îÄ‚îÄ social-posts-queue.json       # Queued posts
‚îÇ   ‚îú‚îÄ‚îÄ calendar-events.json          # Today/tomorrow events
‚îÇ   ‚îú‚îÄ‚îÄ task-queue.json               # Generated tasks
‚îÇ   ‚îú‚îÄ‚îÄ escalations.json              # Things needing your input
‚îÇ   ‚îî‚îÄ‚îÄ reports/
‚îÇ       ‚îú‚îÄ‚îÄ morning-brief-2026-02-08.json
‚îÇ       ‚îú‚îÄ‚îÄ weekly-summary-2026-02-08.json
‚îÇ       ‚îî‚îÄ‚îÄ monthly-review-2026-02.json
‚îÇ
‚îú‚îÄ‚îÄ api-servers/                      # Flask apps
‚îÇ   ‚îú‚îÄ‚îÄ fitness-tracker/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py (port 3000)        # Meal logging + dashboards
‚îÇ   ‚îú‚îÄ‚îÄ golf-tracker/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py (port 3001)        # Golf scoring + analysis
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py (port 3002)        # Central hub (morning brief, tasks, reports)
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ app.py (port 3003)        # Internal API (accessed by other services)
‚îÇ
‚îú‚îÄ‚îÄ webhooks/                         # Inbound integrations
‚îÇ   ‚îú‚îÄ‚îÄ stripe-webhook.py             # Payment notifications
‚îÇ   ‚îî‚îÄ‚îÄ twitter-webhook.py            # DM/mention webhooks
‚îÇ
‚îú‚îÄ‚îÄ jobs/                             # Cron-style tasks
‚îÇ   ‚îú‚îÄ‚îÄ morning-brief-generator.py    # 7:30am
‚îÇ   ‚îú‚îÄ‚îÄ evening-checkin.py            # 8:00pm
‚îÇ   ‚îú‚îÄ‚îÄ daily-report.py               # 11:00pm
‚îÇ   ‚îú‚îÄ‚îÄ weekly-report.py              # Sunday 6pm
‚îÇ   ‚îî‚îÄ‚îÄ social-post-scheduler.py      # 2am, 6am, 12pm, 6pm
‚îÇ
‚îú‚îÄ‚îÄ launchd/                          # macOS daemon configs
‚îÇ   ‚îú‚îÄ‚îÄ com.jarvis.email-daemon.plist
‚îÇ   ‚îú‚îÄ‚îÄ com.jarvis.twitter-daemon.plist
‚îÇ   ‚îú‚îÄ‚îÄ com.jarvis.fitness-api.plist
‚îÇ   ‚îú‚îÄ‚îÄ com.jarvis.golf-api.plist
‚îÇ   ‚îú‚îÄ‚îÄ com.jarvis.dashboard-api.plist
‚îÇ   ‚îî‚îÄ‚îÄ com.jarvis.job-scheduler.plist
‚îÇ
‚îî‚îÄ‚îÄ logs/                             # Daemon logs
    ‚îú‚îÄ‚îÄ email-daemon.log
    ‚îú‚îÄ‚îÄ twitter-daemon.log
    ‚îú‚îÄ‚îÄ api-servers.log
    ‚îî‚îÄ‚îÄ errors.log
```

---

## ‚öôÔ∏è Daemon Schedule (What Runs When)

**Every 5 minutes:**
- Email check (new messages)
- Twitter check (mentions, DMs)
- Health monitor (disk space, processes)

**Every 30 minutes:**
- Calendar sync (pull upcoming events)
- Task queue check (regenerate if empty)
- Fitness data sync (pull from tracker API)

**Every hour:**
- Golf data sync (pull from golf tracker if available)
- Report generation (hourly snapshot for dashboard)

**Scheduled jobs:**
- **7:30am:** Morning brief generation + notification
- **8:00pm:** Evening check-in prompt
- **2am, 6am, 12pm, 6pm:** Social post scheduling
- **11:00pm:** Daily report generation
- **Sunday 6pm:** Weekly progress report
- **Sunday 9am:** Security audit

---

## üîÑ Data Flow (How It All Works)

### **Morning (7:30am)**
```
1. Daemon pulls: calendar, email summary, fitness data, tasks
2. Processor generates: morning brief (3 questions)
3. Output saved to: /data/reports/morning-brief-2026-02-08.json
4. Notification sent to you via Telegram
5. You open dashboard: http://mini:3002 (sees all data already gathered)
6. You ask me something ‚Üí Cloud (Sonnet) only if needed
```

### **Throughout Day**
```
1. You log meal ‚Üí Fitness tracker (port 3000)
2. Processor analyzes photo locally ‚Üí macros auto-populate
3. Data syncs to /data/fitness-data.json
4. Dashboard updates in real-time
5. No cloud calls. Zero cost.
```

### **Evening (8:00pm)**
```
1. Daemon sends: "Evening check-in! How was your day?"
2. You respond with wins
3. Daemon logs to /data/daily-intel-2026-02-08.json
4. Morning brief tomorrow includes: this day's context
```

### **Night (2am, 6am, etc.)**
```
1. Social scheduler wakes up
2. Generates 2-3 posts via local LLM
3. Queues them to Twitter/Instagram via API
4. Logs to /data/social-posts-queue.json
5. You wake up to see what posted overnight
```

---

## üîå External Integrations

**Inbound (data TO mini):**
- Email (IMAP fetch)
- Twitter (API polling)
- Calendar (Apple Calendar sync)
- Stripe (webhook on port 3003)
- Your MacBook Air (HTTP API calls)

**Outbound (data FROM mini):**
- Twitter (auto-posting)
- Instagram (auto-posting via API)
- Telegram (notifications to you)
- Cloud (Sonnet - only on-demand)

**Internal APIs (mini ‚Üî mini):**
- Fitness API ‚Üê Tracker sync
- Golf API ‚Üê Data collection
- Dashboard API ‚Üê Central hub
- Internal API (port 3003) ‚Üê Core logic

---

## üíæ Storage & Cleanup

**Keep locally:**
- Last 90 days of fitness data (rolling window)
- Last 30 days of meal photos (reference)
- Golf scores (all time, for trends)
- Email summaries (last 60 days)
- Task history (last 6 months)
- Social posts archive (last 3 months)

**Archive to cloud (Dropbox/iCloud):**
- Monthly backups of /data/
- Reports (weekly/monthly PDFs)
- Photo originals (meal photos)

**Delete:**
- Email bodies (keep summaries only)
- Intermediate processing files (>7 days old)
- API logs (>30 days old)

---

## üöÄ Deployment Priority (Build Order)

| Priority | Component | Time | Impact | Cost |
|----------|-----------|------|--------|------|
| 1 | Email daemon | 1.5h | High (inbox mgmt) | $0 |
| 2 | Morning brief generator | 1h | High (daily ritual) | $0 |
| 3 | Fitness aggregator | 1h | High (tracker sync) | $0 |
| 4 | Task queue auto-gen | 0.5h | Med (task mgmt) | $0 |
| 5 | Twitter daemon | 1.5h | Med (opportunities) | $0 |
| 6 | Social scheduler | 2h | Med (audience) | $0 |
| 7 | Golf collector | 1.5h | Low (niche) | $0 |
| 8 | Report builders | 1.5h | Med (insights) | $0 |
| **TOTAL** | **Full system** | **~10h** | **Cost: $0/mo** | **Saves $200-300/mo** |

---

## üìä Cost Breakdown (Monthly)

| Component | Current | With Mini Setup | Savings |
|-----------|---------|-----------------|---------|
| Email monitoring | Manual | $0 | $0 |
| Social posting | Manual | $0 | $0 |
| Data processing | API calls ($50-100) | $0 | $50-100 |
| Task generation | Manual | $0 | $0 |
| Morning briefs | Manual | $0 | $0 |
| **Sonnet (cloud)** | ~$300 | ~$100-150 | $150-200 |
| **TOTAL** | ~$350-400 | ~$100-150 | **$200-250/mo** |

---

## üîê Security & Privacy

**All local processing = data stays on your network:**
- ‚úÖ No email credentials sent to cloud
- ‚úÖ No meal photos sent to OpenAI
- ‚úÖ No personal data synced externally
- ‚úÖ Passwords stored in 1Password (encrypted)
- ‚úÖ API keys in local `.env` file (git-ignored)

**Only thing hitting cloud:**
- Your questions to me (Sonnet API)
- Twitter posts (Twitter API)
- Stripe payments (Stripe API)

---

## ‚úÖ Success Metrics

After full implementation:

1. **Morning brief lands automatically** 7:30am every day
2. **Zero manual data entry** for emails, calendar, fitness summaries
3. **Social posts schedule themselves** while you sleep
4. **Task queue auto-populates** from GOALS.md
5. **You only talk to cloud (me) for complex work** ‚Äî ~5-10 msgs/day vs 50+
6. **Monthly cost drops 50-70%** ($200-250 savings)
7. **Dashboard shows real-time aggregated data** ‚Äî no latency

---

## üéØ Next Steps

1. **Approve this structure** (does it align with your vision?)
2. **Build email daemon** (highest impact, 1.5 hours)
3. **Test for a week** (does it work reliably?)
4. **Add morning brief** (another 1 hour)
5. **Build fitness aggregator** (another 1 hour)
6. **By end of week:** Full system baseline complete

**Ready to start?**
